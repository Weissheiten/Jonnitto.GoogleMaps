window.initJonnittoGoogleMaps=function(){function e(e){var o=/^-?\d+(?:[.,]\d*?)?$/;return o.test(e)?(e=parseFloat(e),isNaN(e)?!1:!0):!1}function o(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}function t(e,o){var t=parseInt(e.getAttribute("data-"+o));return"number"==typeof t&&t?t:!1}function n(e,o){return null!==e.getAttribute("data-"+o)}function a(o,t){function n(e){o.className+=" "+s,t(e)}function a(e){if(document.body.className.indexOf("neos-backend")>-1){var o="Geocode was not successful";e?alert(o+" for the following reason: "+e):alert(o)}}var i,r=o.getAttribute("data-location"),l=r.split(",");2==l.length&&e(l[0].trim())&&e(l[1].trim())?(i=new google.maps.LatLng(l[0].trim(),l[1].trim()),n(i)):(i=new google.maps.Geocoder,i.geocode({address:r},function(e,o){return o==google.maps.GeocoderStatus.OK?n(e[0].geometry.location):a(o),!1}))}function i(e){var a=p.Map.options,i=t(u,"zoom"),r=u.content||null;null===r&&(r=u.innerHTML.replace(/^\s+|\s+$/g,"")||!1,u.content=r);var l={content:r,LatLng:e,lat:e.lat(),lng:e.lng()};i&&(a.zoom=i),a.center=l.LatLng,l.map=new google.maps.Map(u,a),l.content&&(l.infowindow=new google.maps.InfoWindow({content:l.content}));var s={position:l.LatLng,title:u.getAttribute("data-marker-title"),map:l.map,draggable:!1};"string"==typeof GoogleMapsPin?s.icon=GoogleMapsPin:"object"==typeof GoogleMapsPin&&o(s,GoogleMapsPin),l.marker=new google.maps.Marker(s),n(u,"showinfo")&&l.content&&l.infowindow.open(l.map,l.marker),"function"==typeof window.addEventListener&&function(e){google.maps.event.addListener(e.marker,"click",function(){e.content?e.infowindow.open(e.map,e.marker):window.open("https://www.google.com/maps/dir//"+e.lat+","+e.lng)})}(l)}function r(e){var o=p.Streetview.options;o.position=e,o.pov={heading:t(f,"heading")||0,pitch:t(f,"pitch")||0},new google.maps.StreetViewPanorama(f,o)}var l=[],s="jonnitto-googlemaps-init",p={Map:{elements:document.querySelectorAll(".jonnitto-googlemaps-mapview"),options:{zoom:15,mapTypeControl:!0,streetViewControl:!1,zoomControl:!0,scrollwheel:!1}},Streetview:{elements:document.querySelectorAll(".jonnitto-googlemaps-streetview"),options:{scrollwheel:!1}}};for(var g in p){var c=p[g].elements.length;p[g].index=c,l[l.length]=c+" "+g+(1==c?"":"s")+" found"}"function"==typeof GoogleMapsFunction&&GoogleMapsFunction(),"object"==typeof GoogleMapsOptions&&o(p.Map.options,GoogleMapsOptions),"object"==typeof GoogleStreetviewOptions&&o(p.Streetview.options,GoogleStreetviewOptions);for(var m=0;p.Map.index>m;m++){var u=p.Map.elements[m];-1===u.className.indexOf(s)&&a(u,i)}for(var d=0;p.Streetview.index>d;d++){var f=p.Streetview.elements[d];-1===f.className.indexOf(s)&&a(f,r)}return l};