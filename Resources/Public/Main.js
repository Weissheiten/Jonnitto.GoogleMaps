window.initJonnittoGoogleMaps=function(){function e(e){var o=/^-?\d+(?:[.,]\d*?)?$/;return o.test(e)?(e=parseFloat(e),isNaN(e)?!1:!0):!1}function o(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}function t(e,o){var t=parseInt(e.getAttribute("data-"+o));return"number"==typeof t&&t?t:!1}function n(e,o){return null!==e.getAttribute("data-"+o)}function a(o,t){function n(e){o.className+=" "+s,t({element:o,location:e})}function a(e){if(document.body.className.indexOf("neos-backend")>-1){var o="Geocode was not successful";e?alert(o+" for the following reason: "+e):alert(o)}}var i,r=o.getAttribute("data-location"),l=r.split(",");2==l.length&&e(l[0].trim())&&e(l[1].trim())?(i=new google.maps.LatLng(l[0].trim(),l[1].trim()),n(i)):(i=new google.maps.Geocoder,i.geocode({address:r},function(e,o){return o==google.maps.GeocoderStatus.OK?n(e[0].geometry.location):a(o),!1}))}function i(e){var a=p.Map.options,i=t(e.element,"zoom"),r=e.element.content||null;null===r&&(r=e.element.innerHTML.replace(/^\s+|\s+$/g,"")||!1,e.element.content=r);var l={content:r,LatLng:e.location,lat:e.location.lat(),lng:e.location.lng()};i&&(a.zoom=i),a.center=l.LatLng,l.map=new google.maps.Map(e.element,a),l.content&&(l.infowindow=new google.maps.InfoWindow({content:l.content}));var s={position:l.LatLng,title:e.element.getAttribute("data-marker-title"),map:l.map,draggable:!1};"string"==typeof GoogleMapsPin?s.icon=GoogleMapsPin:"object"==typeof GoogleMapsPin&&o(s,GoogleMapsPin),l.marker=new google.maps.Marker(s),n(e.element,"showinfo")&&l.content&&l.infowindow.open(l.map,l.marker),"function"==typeof window.addEventListener&&function(e){google.maps.event.addListener(e.map,"bounds_changed",function(){e.center=e.map.getCenter()}),google.maps.event.addDomListener(window,"resize",function(){e.map.setCenter(e.center)}),google.maps.event.addListener(e.marker,"click",function(){e.content?e.infowindow.open(e.map,e.marker):window.open("https://www.google.com/maps/dir//"+e.lat+","+e.lng)})}(l)}function r(e){var o=p.Streetview.options;o.position=e.location,o.pov={heading:t(e.element,"heading")||0,pitch:t(e.element,"pitch")||0},new google.maps.StreetViewPanorama(e.element,o)}var l=[],s="jonnitto-googlemaps-init",p={Map:{elements:document.querySelectorAll(".jonnitto-googlemaps-mapview"),options:{zoom:15,mapTypeControl:!0,streetViewControl:!1,zoomControl:!0,scrollwheel:!1}},Streetview:{elements:document.querySelectorAll(".jonnitto-googlemaps-streetview"),options:{scrollwheel:!1}}};for(var c in p){var m=p[c].elements.length;p[c].index=m,l[l.length]=m+" "+c+(1==m?"":"s")+" found"}"function"==typeof GoogleMapsFunction&&GoogleMapsFunction(),"object"==typeof GoogleMapsOptions&&o(p.Map.options,GoogleMapsOptions),"object"==typeof GoogleStreetviewOptions&&o(p.Streetview.options,GoogleStreetviewOptions);for(var g=0;p.Map.index>g;g++){var d=p.Map.elements[g];-1===d.className.indexOf(s)&&a(d,i)}for(var u=0;p.Streetview.index>u;u++){var f=p.Streetview.elements[u];-1===f.className.indexOf(s)&&a(f,r)}return l};