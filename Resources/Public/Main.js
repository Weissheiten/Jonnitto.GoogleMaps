window.initJonnittoGoogleMaps=function(){function c(a){var b=/^-?\d+(?:[.,]\d*?)?$/;return!!b.test(a)&&(a=parseFloat(a),!isNaN(a))}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function e(a,b){var c=parseInt(a.getAttribute("data-"+b));return!("number"!=typeof c||!c)&&c}function f(a,b){return null!==a.getAttribute("data-"+b)}function g(a,b){function g(c){a.className+=" init",b(c)}function h(a){if(document.body.className.indexOf("neos-backend")>-1){var b="Geocode was not successful";a?alert(b+" for the following reason: "+a):alert(b)}}var f,d=a.getAttribute("data-location"),e=d.split(",");2==e.length&&c(e[0])&&c(e[1])?(f=new google.maps.LatLng(e[0],e[1]),g(f)):(f=new google.maps.Geocoder,f.geocode({address:d},function(a,b){return b==google.maps.GeocoderStatus.OK?g(a[0].geometry.location):h(b),!1}))}function h(a){var c=b.Map.options,g=e(m,"zoom"),h=m.content||null;null===h&&(h=m.innerHTML.replace(/^\s+|\s+$/g,"")||!1,m.content=h);var i={content:h,LatLng:a,lat:a.lat(),lng:a.lng()};g&&(c.zoom=g),c.center=i.LatLng,i.map=new google.maps.Map(m,c),i.content&&(i.infowindow=new google.maps.InfoWindow({content:i.content}));var j={position:i.LatLng,title:m.getAttribute("data-marker-title"),map:i.map,draggable:!1};"string"==typeof GoogleMapsPin?j.icon=GoogleMapsPin:"object"==typeof GoogleMapsPin&&d(j,GoogleMapsPin),i.marker=new google.maps.Marker(j),f(m,"showinfo")&&i.content&&i.infowindow.open(i.map,i.marker),"function"==typeof window.addEventListener&&!function(a){google.maps.event.addListener(a.marker,"click",function(){a.content?a.infowindow.open(a.map,a.marker):window.open("https://www.google.com/maps/dir//"+a.lat+","+a.lng)})}(i)}function i(a){var c=b.Streetview.options;c.position=a,c.pov={heading:e(o,"heading")||0,pitch:e(o,"pitch")||0},new google.maps.StreetViewPanorama(o,c)}var a=[],b={Map:{elements:document.querySelectorAll(".google-map"),options:{zoom:15,mapTypeControl:!0,streetViewControl:!1,zoomControl:!0,scrollwheel:!1}},Streetview:{elements:document.querySelectorAll(".google-streetview"),options:{scrollwheel:!1}}};for(var j in b){var k=b[j].elements.length;b[j].index=k,a[a.length]=k+" "+j+(1==k?"":"s")+" found"}"function"==typeof GoogleMapsFunction&&GoogleMapsFunction(),"object"==typeof GoogleMapsOptions&&d(b.Map.options,GoogleMapsOptions),"object"==typeof GoogleStreetviewOptions&&d(b.Streetview.options,GoogleStreetviewOptions);for(var l=0;l<b.Map.index;l++){var m=b.Map.elements[l];m.className.indexOf("init")===-1&&g(m,h)}for(var n=0;n<b.Streetview.index;n++){var o=b.Streetview.elements[n];o.className.indexOf("init")===-1&&g(o,i)}return a};
