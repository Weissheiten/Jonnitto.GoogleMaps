window.initJonnittoGoogleMaps=function(){var e=[],o={Map:{elements:document.querySelectorAll(".google-map"),options:{zoom:15,mapTypeControl:!0,streetViewControl:!1,zoomControl:!0,scrollwheel:!1}},Streetview:{elements:document.querySelectorAll(".google-streetview"),options:{scrollwheel:!1}}},t=function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e},n=function(e,o){var t=parseInt(e.getAttribute("data-"+o));return"number"==typeof t&&t?t:!1},a=function(e,o){return null!==e.getAttribute("data-"+o)},i=function(e,o){var t=e.getAttribute("data-location"),n=new google.maps.Geocoder;n.geocode({address:t},function(t,n){return n==google.maps.GeocoderStatus.OK?(e.className+=" init",o(t[0].geometry.location)):document.body.className.indexOf("neos-backend")>-1&&alert("Geocode was not successful for the following reason: "+n),!1})},r=function(e){var i=o.Map.options,r=n(g,"zoom"),l=g.content||null;null===l&&(l=g.innerHTML.replace(/^\s+|\s+$/g,"")||!1,g.content=l);var s={content:l,LatLng:e,lat:e.lat(),lng:e.lng()};r&&(i.zoom=r),i.center=s.LatLng,s.map=new google.maps.Map(g,i),s.content&&(s.infowindow=new google.maps.InfoWindow({content:s.content}));var p={position:s.LatLng,title:g.getAttribute("data-marker-title"),map:s.map,draggable:!1};"string"==typeof GoogleMapsPin?p.icon=GoogleMapsPin:"object"==typeof GoogleMapsPin&&t(p,GoogleMapsPin),s.marker=new google.maps.Marker(p),a(g,"showinfo")&&s.content&&s.infowindow.open(s.map,s.marker),"function"==typeof window.addEventListener&&!function(e){google.maps.event.addListener(e.marker,"click",function(){e.content?e.infowindow.open(e.map,e.marker):window.open("https://www.google.com/maps/dir//"+e.lat+","+e.lng)})}(s)},l=function(e){var t=o.Streetview.options;t.position=e,t.pov={heading:n(d,"heading")||0,pitch:n(d,"pitch")||0},new google.maps.StreetViewPanorama(d,t)};for(var s in o){var p=o[s].elements.length;o[s].index=p,e[e.length]=p+" "+s+(1==p?"":"s")+" found"}"function"==typeof GoogleMapsFunction&&GoogleMapsFunction(),"object"==typeof GoogleMapsOptions&&t(o.Map.options,GoogleMapsOptions),"object"==typeof GoogleStreetviewOptions&&t(o.Streetview.options,GoogleStreetviewOptions);for(var c=0;c<o.Map.index;c++){var g=o.Map.elements[c];-1===g.className.indexOf("init")&&i(g,r)}for(var m=0;m<o.Streetview.index;m++){var d=o.Streetview.elements[m];-1===d.className.indexOf("init")&&i(d,l)}return e};
